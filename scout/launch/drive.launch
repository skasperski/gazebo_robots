<launch>

	<include file="$(find gazebo_ros)/launch/willowgarage_world.launch"/>

	<include file="$(find scout)/launch/scout.launch">
		<arg name="z" value="0.5" />
	</include>

	<node name="BL_WheelPose" pkg="tf" type="static_transform_publisher" args="0 0 0 0 0 0 scout/p3at_back_left_hub scout/p3at_back_left_wheel 100" />
	<node name="BR_WheelPose" pkg="tf" type="static_transform_publisher" args="0 0 0 0 0 0 scout/p3at_back_right_hub scout/p3at_back_right_wheel 100" />
	<node name="FLWheelPose" pkg="tf" type="static_transform_publisher" args="0 0 0 0 0 0 scout/p3at_front_left_hub scout/p3at_front_left_wheel 100" />
	<node name="FR_WheelPose" pkg="tf" type="static_transform_publisher" args="0 0 0 0 0 0 scout/p3at_front_right_hub scout/p3at_front_right_wheel 100" />

	<group ns="scout">
		<param name="tf_prefix" value="scout" />
		<param name="use_sim_time" value="true" />
		<rosparam file="$(find nav2d_tutorials)/param/ros.yaml"/>

		<!-- Start the Operator to control the simulated robot -->
		<node name="Operator" pkg="nav2d_operator" type="operator" >
			<remap from="scan" to="base_scan"/>
			<rosparam file="$(find nav2d_tutorials)/param/operator.yaml"/>
			<rosparam file="$(find nav2d_tutorials)/param/costmap.yaml" ns="local_map" />
		</node>

		<!-- Start the joystick-driver and remote-controller for operation-->
		<node name="Joystick" pkg="joy" type="joy_node" />
		<node name="Remote" pkg="nav2d_remote" type="remote_joy" />
	</group>

</launch>
